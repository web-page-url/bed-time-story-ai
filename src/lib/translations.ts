import { Translations } from '@/types';

export const TRANSLATIONS: Translations = {
  "en-US": {
    "ageTitle": "How old is your little one?",
    "ageSubtitle": "This helps us choose the perfect vocabulary and themes",
    "agePlaceholder": "Enter age (2-15)",
    "continueButton": "Continue",
    "step1of5": "Step 1 of 5",
    "genderTitle": "Tell us about your child",
    "genderSubtitle": "We'll use the right pronouns and perspective",
    "boy": "Boy",
    "girl": "Girl", 
    "other": "Other",
    "backButton": "Back",
    "step2of5": "Step 2 of 5",
    "interestsTitle": "What does your child love?",
    "interestsSubtitle": "Pick 1-3 things that spark their imagination",
    "animals": "Animals",
    "spaceStars": "Space & Stars",
    "oceanSeaLife": "Ocean & Sea Life",
    "dinosaurs": "Dinosaurs",
    "magicFantasy": "Magic & Fantasy",
    "sports": "Sports",
    "music": "Music",
    "artDrawing": "Art & Drawing",
    "natureForest": "Nature & Forest",
    "superheroes": "Superheroes",
    "vehiclesTransportation": "Vehicles & Transportation",
    "cookingFood": "Cooking & Food",
    "scienceExperiments": "Science & Experiments",
    "step3of5": "Step 3 of 5",
    "styleTitle": "What kind of story would you like?",
    "styleSubtitle": "Choose the tone that fits bedtime best",
    "funnyLabel": "Funny & Silly",
    "funnyDesc": "Giggles and laughs throughout",
    "adventurousLabel": "Adventurous & Exciting",
    "adventurousDesc": "Thrilling quests and discoveries",
    "gentleLabel": "Gentle & Calming",
    "gentleDesc": "Peaceful and soothing",
    "magicalLabel": "Magical & Enchanting",
    "magicalDesc": "Fantasy and wonder",
    "educationalLabel": "Educational & Learning",
    "educationalDesc": "Fun facts and knowledge",
    "step4of5": "Step 4 of 5",
    "lessonTitle": "What lesson should we include?",
    "lessonSubtitle": "What important message should they learn?",
    "lessonPlaceholder": "Examples: Being kind to others, trying new things, sharing is caring, being brave when scared...",
    "createStoryButton": "Create Story",
    "step5of5": "Step 5 of 5",
    "generatingTitle": "Creating your magical story...",
    "generatingSubtitle": "Our storytelling magic is working...",
    "storyReadyTitle": "Your bedtime story is ready!",
    "storyReadySubtitle": "Sweet dreams are just a story away!",
    "sweetDreams": "Sweet dreams!",
    "createAnotherStory": "Create Another Story",
    "errorMessage": "Sorry, there was an error generating your story. Please try again.",
    "readStoryAloud": "Read Story Aloud",
    "pause": "Pause",
    "resume": "Resume",
    "stop": "Stop",
    "reading": "Reading...",
    "createdBy": "Created by"
  },
  "es-ES": {
    "ageTitle": "¿Qué edad tiene tu pequeño?",
    "ageSubtitle": "Esto nos ayuda a elegir el vocabulario y temas perfectos",
    "agePlaceholder": "Ingresa la edad (2-12)",
    "continueButton": "Continuar",
    "step1of5": "Paso 1 de 5",
    "genderTitle": "Cuéntanos sobre tu hijo",
    "genderSubtitle": "Usaremos los pronombres y perspectiva correctos",
    "boy": "Niño",
    "girl": "Niña",
    "other": "Otro",
    "backButton": "Atrás",
    "step2of5": "Paso 2 de 5",
    "interestsTitle": "¿Qué le encanta a tu hijo?",
    "interestsSubtitle": "Elige 1-3 cosas que despierten su imaginación",
    "animals": "Animales",
    "spaceStars": "Espacio y Estrellas",
    "oceanSeaLife": "Océano y Vida Marina",
    "dinosaurs": "Dinosaurios",
    "magicFantasy": "Magia y Fantasía",
    "sports": "Deportes",
    "music": "Música",
    "artDrawing": "Arte y Dibujo",
    "natureForest": "Naturaleza y Bosque",
    "superheroes": "Superhéroes",
    "vehiclesTransportation": "Vehículos y Transporte",
    "cookingFood": "Cocina y Comida",
    "scienceExperiments": "Ciencia y Experimentos",
    "step3of5": "Paso 3 de 5",
    "styleTitle": "¿Qué tipo de historia te gustaría?",
    "styleSubtitle": "Elige el tono que mejor se adapte a la hora de dormir",
    "funnyLabel": "Divertida y Tonta",
    "funnyDesc": "Risas y carcajadas en todo momento",
    "adventurousLabel": "Aventurera y Emocionante",
    "adventurousDesc": "Misiones emocionantes y descubrimientos",
    "gentleLabel": "Suave y Tranquilizante",
    "gentleDesc": "Pacífica y relajante",
    "magicalLabel": "Mágica y Encantadora",
    "magicalDesc": "Fantasía y maravilla",
    "educationalLabel": "Educativa y de Aprendizaje",
    "educationalDesc": "Datos divertidos y conocimiento",
    "step4of5": "Paso 4 de 5",
    "lessonTitle": "¿Qué lección deberíamos incluir?",
    "lessonSubtitle": "¿Qué mensaje importante deberían aprender?",
    "lessonPlaceholder": "Ejemplos: Ser amable con otros, probar cosas nuevas, compartir es cuidar, ser valiente cuando tienes miedo...",
    "createStoryButton": "Crear Historia",
    "step5of5": "Paso 5 de 5",
    "generatingTitle": "Creando tu historia mágica...",
    "generatingSubtitle": "Nuestra magia de cuentos está funcionando...",
    "storyReadyTitle": "¡Tu cuento para dormir está listo!",
    "storyReadySubtitle": "¡Los dulces sueños están a solo una historia de distancia!",
    "sweetDreams": "¡Dulces sueños!",
    "createAnotherStory": "Crear Otra Historia",
    "errorMessage": "Lo siento, hubo un error al generar tu historia. Por favor, inténtalo de nuevo.",
    "readStoryAloud": "Leer Historia en Voz Alta",
    "pause": "Pausar",
    "resume": "Reanudar",
    "stop": "Detener",
    "reading": "Leyendo...",
    "createdBy": "Creado por"
  }
};

const appLocale = '{{APP_LOCALE}}';
const browserLocale = typeof navigator !== 'undefined' ? (navigator.languages?.[0] || navigator.language || 'en-US') : 'en-US';

const findMatchingLocale = (locale: string): string => {
  if (TRANSLATIONS[locale]) return locale;
  const lang = locale.split('-')[0];
  const match = Object.keys(TRANSLATIONS).find(key => key.startsWith(lang + '-'));
  return match || 'en-US';
};

export const locale = (appLocale !== '{{APP_LOCALE}}') ? findMatchingLocale(appLocale) : findMatchingLocale(browserLocale);

export const t = (key: string): string => {
  return TRANSLATIONS[locale]?.[key] || TRANSLATIONS['en-US'][key] || key;
};